const action = require("../src/handfoot/action");
const db = require("../src/handfoot/db");
const game = require("../src/handfoot/game");

async function doTest() {
    var eventData;
    
    /** CREATE SNAPSHOT */
    var gameId = "053-432";
    //eventData = { "message": "doaction", "game": "debug", "action": "_SNAPSHOT_", "value": gameId };
    //var n = await game.createSnapshot(eventData.value);
    
    /** GET SNAPSHOT DATA */
    //var d = await db.getData(gameId, n.toString());
    //console.log(JSON.stringify(d.data));

    /** SET GAME DATA */
    var d = [{"gameId":"053-432","subId":"tables","tables":["tables","053-432","p-576-140","p-997-067","p-217-054","p-844-528","p-862-555","p-436-574","t-326-371","t-509-725","t-907-537"]},{"subId":"053-432","gameId":"053-432","drawPile":[{"name":"J","id":90,"suit":"C","idx":238},{"name":"6","id":180,"suit":"D","idx":239},{"name":"9","id":237,"suit":"D","idx":240},{"name":"Q","id":158,"suit":"S","idx":241},{"name":"4","id":340,"suit":"D","idx":242},{"name":"5","id":125,"suit":"D","idx":243},{"name":"2","id":217,"suit":"H","idx":244},{"name":"3","id":41,"suit":"S","idx":245},{"name":"J","id":226,"suit":"H","idx":246},{"name":"J","id":185,"suit":"D","idx":247},{"name":"K","id":38,"suit":"C","idx":248},{"name":"9","id":278,"suit":"H","idx":249},{"name":"Q","id":240,"suit":"D","idx":250},{"name":"9","id":21,"suit":"D","idx":251},{"name":"4","id":273,"suit":"H","idx":252},{"name":"Q","id":132,"suit":"D","idx":253},{"name":"9","id":101,"suit":"S","idx":254},{"name":"3","id":231,"suit":"D","idx":255},{"name":"7","id":32,"suit":"C","idx":256},{"name":"J","id":107,"suit":null,"idx":257},{"name":"K","id":282,"suit":"H","idx":258},{"name":"2","id":81,"suit":"C","idx":259},{"name":"6","id":72,"suit":"D","idx":260},{"name":"Q","id":307,"suit":"C","idx":261},{"name":"2","id":243,"suit":"C","idx":262},{"name":"8","id":223,"suit":"H","idx":263},{"name":"5","id":97,"suit":"S","idx":264},{"name":"10","id":48,"suit":"S","idx":265},{"name":"3","id":326,"suit":"H","idx":266},{"name":"10","id":372,"suit":"S","idx":267},{"name":"4","id":327,"suit":"H","idx":268},{"name":"4","id":96,"suit":"S","idx":269},{"name":"4","id":29,"suit":"C","idx":270},{"name":"2","id":1,"suit":"H","idx":271},{"name":"3","id":164,"suit":"H","idx":272},{"name":"8","id":262,"suit":"S","idx":273},{"name":"4","id":191,"suit":"C","idx":274},{"name":"9","id":8,"suit":"H","idx":275},{"name":"K","id":51,"suit":"S","idx":276},{"name":"A","id":296,"suit":"C","idx":277},{"name":"2","id":189,"suit":"C","idx":278},{"name":"Q","id":11,"suit":"H","idx":279},{"name":"9","id":155,"suit":"S","idx":280},{"name":"K","id":174,"suit":"H","idx":281},{"name":"A","id":229,"suit":"D","idx":282},{"name":"6","id":247,"suit":"C","idx":283},{"name":"7","id":289,"suit":"D","idx":284},{"name":"4","id":366,"suit":"S","idx":285},{"name":"9","id":75,"suit":"D","idx":286},{"name":"5","id":138,"suit":"C","idx":287},{"name":"6","id":314,"suit":"S","idx":288},{"name":"10","id":22,"suit":"D","idx":289},{"name":"J","id":306,"suit":"C","idx":290},{"name":"10","id":102,"suit":"S","idx":291},{"name":"6","id":18,"suit":"D","idx":292},{"name":"10","id":35,"suit":"C","idx":293},{"name":"Q","id":361,"suit":"C","idx":294},{"name":"A","id":242,"suit":"C","idx":295},{"name":"J","id":215,"suit":null,"idx":296},{"name":"J","id":269,"suit":null,"idx":297},{"name":"K","id":228,"suit":"H","idx":298},{"name":"5","id":192,"suit":"C","idx":299},{"name":"9","id":209,"suit":"S","idx":300},{"name":"10","id":292,"suit":"D","idx":301},{"name":"J","id":268,"suit":null,"idx":302},{"name":"10","id":318,"suit":"S","idx":303},{"name":"3","id":190,"suit":"C","idx":304},{"name":"10","id":359,"suit":"C","idx":305},{"name":"8","id":46,"suit":"S","idx":306},{"name":"K","id":200,"suit":"C","idx":307},{"name":"8","id":357,"suit":"C","idx":308},{"name":"9","id":250,"suit":"C","idx":309},{"name":"A","id":324,"suit":"H","idx":310},{"name":"3","id":15,"suit":"D","idx":311},{"name":"Q","id":186,"suit":"D","idx":312},{"name":"7","id":127,"suit":"D","idx":313},{"name":"J","id":252,"suit":"C","idx":314},{"name":"9","id":196,"suit":"C","idx":315},{"name":"10","id":346,"suit":"D","idx":316},{"name":"7","id":261,"suit":"S","idx":317},{"name":"2","id":148,"suit":"S","idx":318},{"name":"J","id":334,"suit":"H","idx":319},{"name":"3","id":365,"suit":"S","idx":320},{"name":"4","id":42,"suit":"S","idx":321},{"name":"7","id":45,"suit":"S","idx":322},{"name":"J","id":172,"suit":"H","idx":323},{"name":"3","id":298,"suit":"C","idx":324},{"name":"J","id":376,"suit":null,"idx":325},{"name":"5","id":58,"suit":"H","idx":326},{"name":"9","id":183,"suit":"D","idx":327},{"name":"2","id":55,"suit":"H","idx":328},{"name":"5","id":166,"suit":"H","idx":329},{"name":"5","id":354,"suit":"C","idx":330},{"name":"7","id":73,"suit":"D","idx":331},{"name":"Q","id":119,"suit":"H","idx":332},{"name":"9","id":62,"suit":"H","idx":333},{"name":"8","id":33,"suit":"C","idx":334},{"name":"2","id":122,"suit":"D","idx":335},{"name":"8","id":74,"suit":"D","idx":336},{"name":"A","id":175,"suit":"D","idx":337},{"name":"3","id":285,"suit":"D","idx":338},{"name":"8","id":277,"suit":"H","idx":339},{"name":"3","id":110,"suit":"H","idx":340},{"name":"J","id":23,"suit":"D","idx":341},{"name":"5","id":341,"suit":"D","idx":342},{"name":"7","id":315,"suit":"S","idx":343},{"name":"5","id":179,"suit":"D","idx":344},{"name":"J","id":157,"suit":"S","idx":345},{"name":"6","id":206,"suit":"S","idx":346},{"name":"J","id":131,"suit":"D","idx":347},{"name":"7","id":248,"suit":"C","idx":348},{"name":"10","id":9,"suit":"H","idx":349},{"name":"5","id":4,"suit":"H","idx":350},{"name":"4","id":57,"suit":"H","idx":351},{"name":"J","id":265,"suit":"S","idx":352},{"name":"5","id":274,"suit":"H","idx":353},{"name":"5","id":71,"suit":"D","idx":354},{"name":"A","id":80,"suit":"C","idx":355},{"name":"9","id":263,"suit":"S","idx":356},{"name":"7","id":6,"suit":"H","idx":357},{"name":"K","id":267,"suit":"S","idx":358},{"name":"2","id":163,"suit":"H","idx":359},{"name":"A","id":121,"suit":"D","idx":360},{"name":"6","id":368,"suit":"S","idx":361},{"name":"2","id":40,"suit":"S","idx":362},{"name":"3","id":2,"suit":"H","idx":363},{"name":"2","id":14,"suit":"D","idx":364},{"name":"10","id":264,"suit":"S","idx":365},{"name":"6","id":59,"suit":"H","idx":366},{"name":"A","id":255,"suit":"S","idx":367},{"name":"A","id":13,"suit":"D","idx":368},{"name":"7","id":19,"suit":"D","idx":369},{"name":"K","id":241,"suit":"D","idx":370},{"name":"5","id":220,"suit":"H","idx":371},{"name":"2","id":325,"suit":"H","idx":372},{"name":"10","id":225,"suit":"H","idx":373},{"name":"9","id":345,"suit":"D","idx":374},{"name":"4","id":204,"suit":"S","idx":375},{"name":"10","id":63,"suit":"H","idx":376},{"name":"5","id":112,"suit":"H","idx":377}],"state":{"activeDrawer":"p-576-140","firstPlayer":"p-997-067","didDeal":["p-862-555","p-844-528","p-997-067","p-576-140","p-217-054","p-436-574"],"lastDrawer":"p-576-140","ready":true,"playerOut":null,"drawIndex":0,"lastMessage":"Aces Baby!ÔøΩüßü‚Äç‚ôÇÔ∏è discarded 3S","shuffled":true,"activePlayer":{"name":"Lyndsey","id":"p-862-555","inFoot":false},"teamsReady":true,"activeDealer":null},"created":1603066903521,"playOrder":["p-997-067","p-844-528","p-436-574","p-217-054","p-862-555","p-576-140"]},{"gameId":"053-432","lastDrawIndex":227,"inFoot":true,"subId":"p-576-140","partner":"p-436-574","teamIdx":2,"didDeal":true,"teamid":"t-907-537","name":"Mark ÔøΩü§¨","connectionId":"UojTAc8TCYcCGhQ=","foot":[],"didDraw":false,"hand":[{"name":"2","id":284,"suit":"D","idx":214}]},{"gameId":"053-432","lastDrawIndex":229,"inFoot":false,"subId":"p-997-067","partner":"p-217-054","teamIdx":0,"didDeal":true,"teamid":"t-326-371","name":"Conspiracy Theorist","connectionId":"UojOpfBPiYcCJnA=","foot":[{"name":"10","id":279,"suit":"H","idx":45},{"name":"A","id":67,"suit":"D","idx":47},{"name":"8","id":115,"suit":"H","idx":49},{"name":"2","id":256,"suit":"S","idx":51},{"name":"3","id":177,"suit":"D","idx":53},{"name":"6","id":126,"suit":"D","idx":55},{"name":"9","id":317,"suit":"S","idx":57},{"name":"2","id":297,"suit":"C","idx":59},{"name":"3","id":218,"suit":"H","idx":61},{"name":"Q","id":24,"suit":"D","idx":63},{"name":"3","id":244,"suit":"C","idx":65}],"didDraw":false,"hand":[{"name":"7","id":222,"suit":"H","idx":216},{"name":"5","id":367,"suit":"S","idx":217},{"name":"5","id":313,"suit":"S","idx":228}]},{"gameId":"053-432","lastDrawIndex":235,"inFoot":false,"subId":"p-217-054","partner":"p-997-067","teamIdx":0,"didDeal":true,"teamid":"t-326-371","name":"Melanie Doberenz","connectionId":"UojSZdQRCYcCHcQ=","foot":[{"name":"7","id":60,"suit":"H","idx":89},{"name":"8","id":290,"suit":"D","idx":91},{"name":"J","id":49,"suit":"S","idx":93},{"name":"2","id":94,"suit":"S","idx":95},{"name":"J","id":64,"suit":"H","idx":97},{"name":"6","id":329,"suit":"H","idx":99},{"name":"J","id":322,"suit":null,"idx":101},{"name":"A","id":337,"suit":"D","idx":103},{"name":"A","id":309,"suit":"S","idx":105},{"name":"K","id":120,"suit":"H","idx":107},{"name":"4","id":286,"suit":"D","idx":109}],"didDraw":false,"hand":[{"name":"7","id":356,"suit":"C","idx":210},{"name":"7","id":276,"suit":"H","idx":211},{"name":"5","id":246,"suit":"C","idx":223},{"name":"A","id":201,"suit":"S","idx":234},{"name":"A","id":363,"suit":"S","idx":235}]},{"gameId":"053-432","lastDrawIndex":231,"inFoot":true,"subId":"p-844-528","partner":"p-862-555","teamIdx":1,"didDeal":true,"teamid":"t-509-725","name":"Jessica","connectionId":"UojRtfXSiYcCIjg=","foot":[],"didDraw":false,"hand":[{"name":"7","id":86,"suit":"C","idx":41},{"name":"J","id":161,"suit":null,"idx":230}]},{"gameId":"053-432","lastDrawIndex":237,"inFoot":true,"subId":"p-862-555","partner":"p-844-528","teamIdx":1,"didDeal":true,"teamid":"t-509-725","name":"Lyndsey","connectionId":"UojSDeznCYcCFug=","foot":[],"didDraw":true,"hand":[{"name":"3","id":56,"suit":"H","idx":7}]},{"gameId":"053-432","lastDrawIndex":233,"inFoot":true,"subId":"p-436-574","partner":"p-576-140","teamIdx":2,"didDeal":true,"teamid":"t-907-537","name":"Aces Baby!ÔøΩüßü‚Äç‚ôÇÔ∏è","connectionId":"Uoi-ccQ5iYcCI1A=","foot":[],"didDraw":false,"hand":[{"name":"9","id":34,"suit":"C","idx":123}]},{"subId":"t-326-371","gameId":"053-432","score":0,"cards":{"4":[],"5":[],"6":[],"7":[],"8":[{"name":"8","id":370,"suit":"S","idx":52},{"name":"8","id":303,"suit":"C","idx":62},{"name":"2","id":202,"suit":"S","idx":169},{"name":"8","id":20,"suit":"D","idx":163},{"name":"8","id":182,"suit":"D","idx":94},{"name":"8","id":61,"suit":"H","idx":198},{"name":"8","id":154,"suit":"S","idx":205}],"9":[{"name":"9","id":170,"suit":"H","idx":199},{"name":"9","id":332,"suit":"H","idx":186},{"name":"9","id":47,"suit":"S","idx":138},{"name":"9","id":371,"suit":"S","idx":180}],"10":[{"name":"10","id":76,"suit":"D","idx":58},{"name":"10","id":197,"suit":"C","idx":56},{"name":"10","id":143,"suit":"C","idx":133},{"name":"10","id":117,"suit":"H","idx":168}],"Q":[{"name":"Q","id":212,"suit":"S","idx":132},{"name":"Q","id":199,"suit":"C","idx":60},{"name":"J","id":53,"suit":null,"idx":50},{"name":"Q","id":91,"suit":"C","idx":102},{"name":"Q","id":145,"suit":"C","idx":144},{"name":"Q","id":37,"suit":"C","idx":151}],"A":[],"W":[],"J":[{"name":"J","id":360,"suit":"C","idx":139},{"name":"J","id":10,"suit":"H","idx":106},{"name":"2","id":68,"suit":"D","idx":104},{"name":"J","id":118,"suit":"H","idx":48},{"name":"J","id":36,"suit":"C","idx":181}],"K":[{"name":"K","id":254,"suit":"C","idx":98},{"name":"K","id":79,"suit":"D","idx":90},{"name":"K","id":92,"suit":"C","idx":100},{"name":"K","id":213,"suit":"S","idx":145},{"name":"K","id":25,"suit":"D","idx":157},{"name":"K","id":133,"suit":"D","idx":174}]},"scores":[],"index":0,"cardCt":[3,5],"playerNames":["Conspiracy Theorist","Melanie Doberenz"],"playerIds":["p-997-067","p-217-054"],"melded":true,"inFoot":[]},{"subId":"t-509-725","gameId":"053-432","score":0,"cards":{"4":[{"name":"4","id":219,"suit":"H","idx":11},{"name":"J","id":323,"suit":null,"idx":236},{"name":"4","id":245,"suit":"C","idx":3}],"5":[{"name":"5","id":259,"suit":"S","idx":33},{"name":"5","id":300,"suit":"C","idx":219},{"name":"5","id":287,"suit":"D","idx":31}],"6":[{"name":"6","id":44,"suit":"S","idx":18},{"name":"6","id":275,"suit":"H","idx":14},{"name":"6","id":301,"suit":"C","idx":140},{"name":"6","id":5,"suit":"H","idx":40},{"name":"6","id":288,"suit":"D","idx":159},{"name":"6","id":221,"suit":"H","idx":37},{"name":"6","id":167,"suit":"H","idx":237},{"name":"6","id":139,"suit":"C","idx":13}],"7":[{"name":"7","id":99,"suit":"S","idx":9},{"name":"2","id":27,"suit":"C","idx":5},{"name":"7","id":194,"suit":"C","idx":15}],"8":[{"name":"8","id":169,"suit":"H","idx":8},{"name":"8","id":7,"suit":"H","idx":4},{"name":"8","id":208,"suit":"S","idx":225},{"name":"8","id":195,"suit":"C","idx":19}],"9":[],"10":[{"name":"10","id":130,"suit":"D","idx":152},{"name":"10","id":333,"suit":"H","idx":164},{"name":"2","id":364,"suit":"S","idx":165},{"name":"10","id":171,"suit":"H","idx":134},{"name":"10","id":156,"suit":"S","idx":158},{"name":"10","id":184,"suit":"D","idx":177},{"name":"10","id":238,"suit":"D","idx":188},{"name":"10","id":251,"suit":"C","idx":206},{"name":"10","id":210,"suit":"S","idx":1}],"Q":[{"name":"Q","id":65,"suit":"H","idx":135},{"name":"2","id":351,"suit":"C","idx":170},{"name":"Q","id":294,"suit":"D","idx":42},{"name":"Q","id":227,"suit":"H","idx":176},{"name":"Q","id":320,"suit":"S","idx":25},{"name":"Q","id":50,"suit":"S","idx":218},{"name":"Q","id":281,"suit":"H","idx":23},{"name":"Q","id":104,"suit":"S","idx":17}],"A":[{"name":"A","id":39,"suit":"S","idx":6},{"name":"A","id":216,"suit":"H","idx":10},{"name":"J","id":160,"suit":null,"idx":16},{"name":"A","id":270,"suit":"H","idx":34},{"name":"A","id":93,"suit":"S","idx":146},{"name":"A","id":134,"suit":"C","idx":201},{"name":"J","id":214,"suit":null,"idx":224}],"W":[],"J":[{"name":"J","id":77,"suit":"D","idx":30},{"name":"J","id":198,"suit":"C","idx":147},{"name":"2","id":135,"suit":"C","idx":195},{"name":"J","id":239,"suit":"D","idx":207},{"name":"J","id":293,"suit":"D","idx":35},{"name":"J","id":319,"suit":"S","idx":29},{"name":"J","id":103,"suit":"S","idx":231}],"K":[{"name":"K","id":159,"suit":"S","idx":22},{"name":"K","id":349,"suit":"D","idx":26},{"name":"2","id":271,"suit":"H","idx":38},{"name":"K","id":295,"suit":"D","idx":2},{"name":"K","id":66,"suit":"H","idx":183},{"name":"K","id":12,"suit":"H","idx":213},{"name":"K","id":308,"suit":"C","idx":39},{"name":"K","id":375,"suit":"S","idx":21}]},"scores":[],"index":1,"cardCt":[2,1],"playerNames":["Jessica","Lyndsey"],"playerIds":["p-844-528","p-862-555"],"melded":true,"inFoot":["p-844-528","p-862-555"]},{"subId":"t-907-537","gameId":"053-432","score":0,"cards":{"4":[{"name":"4","id":83,"suit":"C","idx":203},{"name":"4","id":258,"suit":"S","idx":84},{"name":"4","id":3,"suit":"H","idx":142},{"name":"4","id":165,"suit":"H","idx":215},{"name":"4","id":312,"suit":"S","idx":127}],"5":[{"name":"5","id":205,"suit":"S","idx":117},{"name":"5","id":30,"suit":"C","idx":129},{"name":"2","id":310,"suit":"S","idx":121}],"6":[{"name":"6","id":31,"suit":"C","idx":118},{"name":"6","id":234,"suit":"D","idx":114},{"name":"2","id":230,"suit":"D","idx":185},{"name":"6","id":152,"suit":"S","idx":202},{"name":"6","id":113,"suit":"H","idx":226},{"name":"6","id":193,"suit":"C","idx":125}],"7":[{"name":"7","id":207,"suit":"S","idx":190},{"name":"7","id":181,"suit":"D","idx":143},{"name":"7","id":330,"suit":"H","idx":72},{"name":"7","id":369,"suit":"S","idx":197},{"name":"7","id":140,"suit":"C","idx":196}],"8":[{"name":"8","id":128,"suit":"D","idx":74},{"name":"8","id":316,"suit":"S","idx":70},{"name":"2","id":176,"suit":"D","idx":191},{"name":"8","id":100,"suit":"S","idx":87},{"name":"8","id":236,"suit":"D","idx":73},{"name":"8","id":141,"suit":"C","idx":232},{"name":"J","id":106,"suit":null,"idx":233}],"9":[{"name":"9","id":358,"suit":"C","idx":120},{"name":"9","id":224,"suit":"H","idx":160},{"name":"J","id":52,"suit":null,"idx":172},{"name":"9","id":291,"suit":"D","idx":209},{"name":"9","id":142,"suit":"C","idx":67},{"name":"9","id":304,"suit":"C","idx":75},{"name":"9","id":88,"suit":"C","idx":220}],"10":[],"Q":[{"name":"Q","id":374,"suit":"S","idx":126},{"name":"Q","id":173,"suit":"H","idx":112},{"name":"Q","id":253,"suit":"C","idx":149},{"name":"Q","id":335,"suit":"H","idx":78},{"name":"Q","id":266,"suit":"S","idx":83},{"name":"Q","id":348,"suit":"D","idx":131}],"A":[{"name":"A","id":147,"suit":"S","idx":69},{"name":"A","id":350,"suit":"C","idx":77},{"name":"J","id":377,"suit":null,"idx":85},{"name":"A","id":54,"suit":"H","idx":110},{"name":"A","id":283,"suit":"D","idx":227},{"name":"A","id":108,"suit":"H","idx":115},{"name":"A","id":162,"suit":"H","idx":119}],"W":[],"J":[{"name":"J","id":144,"suit":"C","idx":76},{"name":"J","id":280,"suit":"H","idx":68},{"name":"2","id":109,"suit":"H","idx":82},{"name":"J","id":347,"suit":"D","idx":161},{"name":"J","id":211,"suit":"S","idx":122},{"name":"J","id":373,"suit":"S","idx":81}],"K":[{"name":"K","id":336,"suit":"H","idx":116},{"name":"K","id":105,"suit":"S","idx":124},{"name":"2","id":338,"suit":"D","idx":136},{"name":"K","id":146,"suit":"C","idx":155},{"name":"K","id":321,"suit":"S","idx":86},{"name":"K","id":187,"suit":"D","idx":178},{"name":"K","id":362,"suit":"C","idx":113}]},"scores":[],"index":2,"cardCt":[1,1],"playerNames":["Aces Baby!ÔøΩüßü‚Äç‚ôÇÔ∏è","Markü§¨ü§¨"],"playerIds":["p-436-574","p-576-140"],"melded":true,"inFoot":["p-576-140","p-436-574"]}];
    await game.setGameData(d);
    console.log("GameData set");

    if (false) {
        setTimeout(async function() {
            console.log("executing test...");

        //     eventData = {"message":"doaction","game":"8d3-a4b","userid":"p-908-4b8","action":"draw"};
        //     var postDatas = await action.doAction(eventData);
        //     //console.log(postDatas);
        //     console.log("DONE Drawing");

        //     eventData = {"message":"doaction","game":"8d3-a4b","userid":"p-662-7cb","action":"draw"};
        //     var postDatas = await action.doAction(eventData);
        //     //console.log(postDatas);
        //     console.log("DONE Drawing");

        //     eventData = {"message":"doaction","game":"8d3-a4b","userid":"p-908-4b8","action":"discard","value":{"name":"3","id":123,"suit":"D","idx":20}};
        //     var postDatas = await action.doAction(eventData);
        //     console.log("DONE Discarding");

            // eventData = {"message":"doaction","game":"885-f15","userid":"p-46a-174","action":"draw"};
            // var postDatas = await action.doAction(eventData);
            // console.log("Done Drawing");
            // // console.log(postDatas);

            // eventData = {"message":"doaction","game":"885-f15","userid":"p-b89-ac2","action":"draw"};
            // var postDatas = await action.doAction(eventData);
            // console.log("Done Drawing");

            // eventData = {"message":"doaction","game":"885-f15","userid":"p-46a-174","action":"discard","value":{"name":"3","id":244,"suit":"C","idx":72}};
            // postDatas = await action.doAction(eventData);
            // console.log("Done Discarding");
            //console.log(postDatas);

            // eventData = {"message":"doaction","game":"885-f15","userid":"p-46a-174","action":"play","value":{"4":[],"5":[{"name":"5","id":30,"suit":"C","idx":70},{"name":"5","id":97,"suit":"S","idx":84},{"name":"5","id":166,"suit":"H","idx":86}],"6":[],"7":[],"8":[],"9":[],"10":[],"J":[],"Q":[],"K":[],"A":[{"name":"A","id":147,"suit":"S","idx":102},{"name":"A","id":216,"suit":"H","idx":66},{"name":"2","id":81,"suit":"C","idx":68}],"W":[]}};
            // postDatas = await action.doAction(eventData);
            // console.log("DONE Playig");

            eventData = {"message":"doaction","game":"701-346","userid":"p-999-450","action":"discard","value":{"name":"10","id":143,"suit":"C","idx":154}};
            var postDatas = await action.doAction(eventData);
            console.log(postDatas);
        }, 1000);
    }
}

doTest();